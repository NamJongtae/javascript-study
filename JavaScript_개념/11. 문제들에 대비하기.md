# 11. ë¬¸ì œë“¤ì— ëŒ€ë¹„í•˜ê¸°

### ì—ëŸ¬ í•¸ë“¤ë§ error handling

**ì—ëŸ¬ ë°œìƒì— ëŒ€ë°°í•˜ì§€ ì•Šìœ¼ë©´ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë¨**

```javascript
console.log('ì—ëŸ¬ ë°œìƒ ì „');

// âš ï¸ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì½”ë“œ
(3).split('');

// ì¶œë ¥ë˜ì§€ ì•ŠìŒ
console.log('ì—ëŸ¬ ë°œìƒ í›„');
```

### ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì—ëŸ¬ í•¸ë“¤ë§

[ğŸ‘‰ MDN ë¬¸ì„œ ë³´ê¸°](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch)

`try ~ cath` **ë¬¸**

- **`try`Â ë¸”ë¡**
    - **ì—ëŸ¬ ë°œìƒ ì—¬ì§€ê°€ ìˆëŠ”**Â ì½”ë“œ í¬í•¨
    - ì´ê³³ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ëŠ” í”„ë¡œê·¸ë¨ì„ ë©ˆì¶”ì§€ ì•ŠìŒ
- **`catch`Â ë¸”ë¡**
    - ì—ëŸ¬ ë°œìƒì‹œ ì‹¤í–‰í•  ì½”ë“œ í¬í•¨
    - ë°œìƒí•œ ì˜¤ë¥˜ ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ìŒ

```javascript
const arr = ['ABC', 'ê°€ë‚˜ë‹¤', 123, '123'];

function getLetterArray (str) {
  // ğŸ’¡ ì¸ìë¡œ ì–´ë–¤ íƒ€ì…ì˜ ê°’ì´ ì£¼ì–´ì§ˆì§€ ëª¨ë¥´ëŠ” ìƒí™©
  try {
    return str.split('');

  } catch (e) {
    console.error('ğŸ›‘ ì—ëŸ¬!!', e);
    return [];
  }
}

arr.forEach(i => {
  console.log(getLetterArray(i));
});
```

- **`finally`Â ë¸”ë¡**
    - ì˜¤ë¥˜ê°€ ë°œìƒ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ í•œ ë²ˆ ì‹¤í–‰ë˜ëŠ” ì½”ë“œ í¬í•¨
    - ì•„ë˜ì™€ ê°™ì€ ê²½ìš° ë„ë¦¬ ì‚¬ìš©

```javascript
function connect () { console.log('â˜€ï¸', 'í†µì‹  ì—°ê²°'); }
function disconnect () { console.log('ğŸŒ™', 'í†µì‹  ì—°ê²° í•´ì œ'); }
function sendArray (arr) { console.log('ì „ì†¡', arr); }

function sendStringAsArray (str) {
  connect();

  try {
    sendArray(str.split(''));
    return true;

  } catch (e) {
    console.error('ğŸ›‘ ì—ëŸ¬!!', e);
    return false;

  } finally {
    // ğŸ’¡ ì „ì†¡ ì„±ê³µ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ì—°ê²°ì€ ëŠì–´ì•¼ í•¨
    disconnect();
    console.log('- - - - - - - -');
  }

  // â“ ì´ê³³ì— ë„£ëŠ” ê²ƒê³¼ ë¬´ì—‡ì´ ë‹¤ë¥¸ê°€?
  // ì•„ë˜ë¡œ ëŒ€ì²´í•˜ì—¬ ì‹¤í–‰í•´ ë³¼ ê²ƒ
  // disconnect();
  // console.log('- - - - - - - -');
}

['ABC', 'ê°€ë‚˜ë‹¤', 123, '123'].forEach(i => {
  console.log(
    sendStringAsArray(i) 
    ? '[ì„±ê³µ]' : '[ì‹¤íŒ¨]', '\n\n'
  );
});
```

### Error ê°ì²´

- ì—ëŸ¬ ë°œìƒ ì‹œÂ **ë˜ì ¸ì§€ëŠ”**Â *thrown*Â ê°ì²´
- ì—ëŸ¬ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆìŒ
- ğŸ’¡ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šì•„ë„, ì§ì ‘ ìƒì„±í•˜ì—¬ ë˜ì§€ê¸° ê°€ëŠ¥
- [ğŸ‘‰ MDN ë¬¸ì„œ ë³´ê¸°](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Error)

**ê¸°ë³¸ ìƒì„±ê³¼ ì‚¬ìš©ë²•**

```javascript
const error = new Error('ë­”ê°€ ì˜ëª»ëì–´');

console.error(error);
```

```javascript
// ë‘ ë²ˆì§¸ ì¸ìë¡œ ì´ìœ ë¥¼ ëª…ì‹œí•  ìˆ˜ë„ ìˆìŒ
const error = new Error(
  'ë­”ê°€ ì˜ëª»ëì–´',
  { cause: 'ë­˜ ì˜ëª»í–ˆìœ¼ë‹ˆê¹Œ' }
);

console.error(error);
```

- **ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œ**

```javascript
console.log(error.name);
console.log(error.message);

// causeë¥¼ ì…ë ¥í–ˆì„ ê²½ìš°
console.log(error.cause);

// ì—ëŸ¬ ìì²´ë¥¼ ë¡œê·¸ ì¶œë ¥í•˜ë©´ ë‚˜ì˜¤ëŠ” ë¬¸êµ¬
console.log(error.toString());
```

- **â­ ì˜ë„ì ìœ¼ë¡œ ì—ëŸ¬ ë°œìƒì‹œí‚¤ê¸°**

```javascript
throw new Error('ì˜ë„ì  ì—ëŸ¬');
```

**ì—ëŸ¬ì˜ ì¢…ë¥˜**

- **â­ ì•„ë˜ì˜ ì—ëŸ¬ë“¤ì€ ëª¨ë‘ Errorë¶€í„° ìƒì†ë°›ìŒ**
- ì–´ë–¤ ë¬¸ì œì— ì˜í•œ ì—ëŸ¬ì¸ì§€ ì‰½ê²Œ ì‹ë³„ ê°€ëŠ¥í•˜ë„ë¡ í•¨
- [ğŸ‘‰ ê¸°íƒ€ ì—ëŸ¬ ìœ í˜• MDN ë¬¸ì„œ ë³´ê¸°](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Error#%EC%98%A4%EB%A5%98_%EC%9C%A0%ED%98%95)

| ì£¼ìš” ì—ëŸ¬ | ì„¤ëª… |
| --- | --- |
| SyntaxError | ë¬¸ë²•ì— ì´ìƒì´ ìˆì„ ë•Œ |
| TypeError | ì£¼ì–´ì§„ ëª…ë ¹ì— ì ì ˆí•œ ìë£Œí˜•ì´ ì•„ë‹ ë•Œ |
| ReferenceError | ì˜ëª»ëœ ê°’ì„ ì°¸ì¡°í–ˆì„ ë•Œ |
| RangeError | ìœ íš¨í•œ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ìˆ«ìê°€ ì‚¬ìš©ë˜ì—ˆì„ ë•Œ |

```javascript
const errorFuncs = [
  // ìë£Œí˜•ì— ë§ì§€ ì•ŠëŠ” ë©”ì„œë“œ í˜¸ì¶œ
  () => { (3).split(''); },

  // ì„ ì–¸ë˜ì§€ ì•Šì€ í•¨ìˆ˜ í˜¸ì¶œ
  () => { hello(); },

  // ë¶€ì ì ˆí•œ ìˆ«ìë¥¼ ì¸ìë¡œ ì „ë‹¬
  () => { (123.45).toFixed(-1); }
];
```

- **ì˜¤ë¥˜ì— ì¢…ë¥˜ì— ë”°ë¼ ëŒ€ì²˜í•˜ê¸°**

```javascript
errorFuncs.forEach(func => {
  try {
    func();

  } catch (e) {
    if (e instanceof TypeError) {
      console.error('ìë£Œí˜• í™•ì¸í•˜ì„¸ìš”.');
      return;
    }
    if (e instanceof ReferenceError) {
      console.error('ì„ ì–¸ ì•ˆ ëœ ê±° ì“´ ê±° ì—†ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.');
      return;
    }
    console.error('ì•„ë‹ˆ, ë­˜ í•œ ê±°ì—ìš”?');
  }
});
```

- **ì§ì ‘ ì˜¤ë¥˜ë¥¼ ìƒì„±í•˜ì—¬ ë˜ì§€ê¸° â‡’ ì»´í“¨í„°ê°€ ì¸ì§€í•˜ì§€ ëª»í•˜ëŠ” ì—ëŸ¬ ìˆ˜ë™ ë°œìƒ**

```javascript
// íŠ¹ì • ì›”ì˜ ë‹¹ë²ˆìœ¼ë¡œ ì§€ì›í•˜ëŠ” í•¨ìˆ˜
function applyForMonth (date) {
  try {
    if (typeof date !== 'number') {
      throw new TypeError('ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
    }
    if (date < 1 || date > 12) {
      throw new RangeError('ìœ íš¨í•œ ì›”ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
    }

    console.log(`${date}ì›” ë‹¹ë²ˆìœ¼ë¡œ ë“±ë¡ë˜ì…¨ìŠµë‹ˆë‹¤.`);

  } catch (e) {
    console.error('ğŸ›‘ ì—ëŸ¬ ë°œìƒ!', e);
    console.log('ë‹¤ì‹œ ë“±ë¡í•´ì£¼ì„¸ìš”.');
  }
}
```

```javascript
applyForMonth(5);
```

```javascript
applyForMonth('5'); // TypeError
```

```javascript
applyForMonth(13); // RangeError
```

**ì»¤ìŠ¤í…€ ì—ëŸ¬ ë§Œë“¤ê¸°**

- [ğŸ‘‰ MDN ë¬¸ì„œ ë³´ê¸°](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Error#%EC%82%AC%EC%9A%A9%EC%9E%90_%EC%A0%95%EC%9D%98_%EC%97%90%EB%9F%AC_%ED%83%80%EC%9E%85)

```javascript
class VendingMachineError extends Error {
  constructor (errorName, ...params) {
    super(...params);

    this.name = 'VendingMachineError';

		const errorMessages = {
      'í’ˆì ˆ': 'í’ˆì ˆëœ ìƒí’ˆì…ë‹ˆë‹¤.',
      'ê¸ˆì•¡ë¶€ì¡±': 'ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.',
      'ì„ íƒì˜¤ë¥˜': 'ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìŒë£Œì…ë‹ˆë‹¤.'
    };

    this.message = errorMessages[errorName] || '';
  }
}
```

```javascript
class VendingMachine{
constructor() {
    this.product = {
      cola: { price: 1000, qty: 10 },
      soda: { price: 1000, qty: 0 },
      coffee: { price: 1500, qty: 1 }
    };
  }

  order (product, qty, money) {
    try {
		 if (!this.product[product]) {
        throw new VendingMachineError("ì„ íƒì˜¤ë¥˜");
      }

      if (this.product[product].qty < qty) {
        throw new VendingMachineError("í’ˆì ˆ");
      }

      if (this.product[product].price * qty > money) {
        throw new VendingMachineError("ê¸ˆì•¡ë¶€ì¡±");
      }

      this.product[product].qty -= qty;
      console.log(product + "ë¥¼ " + qty + "ê°œ ì£¼ë¬¸ ì™„ë£Œ");
    } catch (e) {
      console.error(e.message);
    }
  }
}
```

```javascript
const vm1 = new VendingMachine();
vm1.order("cola", 1, 1000);
vm1.order("soda", 1, 1000);
vm1.order("coffee", 1, 1000);
vm1.order("lemonAde", 1, 1000);
```

### ì—ëŸ¬ ë²„ë¸”ë§ error bubbling

**ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ**

- ì—ëŸ¬ ë°œìƒì‹œ í•´ë‹¹ í•¨ìˆ˜ì—ì„œ ì¡ì§€ ì•Šìœ¼ë©´ í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ë˜ì ¸ì§
- ë‹¤ì¤‘ í˜¸ì¶œì‹œ ì—ëŸ¬ë¥¼ í•¸ë“¤ë§í•˜ëŠ” ì½”ë“œê°€ ìˆëŠ” í˜¸ì¶œìê¹Œì§€ ì „ë‹¬ë¨
- â­ ì—ëŸ¬ëŠ” ê°€ëŠ¥í•œ ë°œìƒ ê³³ ê°€ê¹Œì´ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

```javascript
function func1 () {
  throw new Error('ì—ëŸ¬');
}

function func2 () {
  func1();
}

function func3 () {
  func2();
}

function func4 () {
  try {
    func3();

  } catch (e) {
    console.error(e);
  }
  console.log('ì‹¤í–‰ì™„ë£Œ');
}

func4();
```

- ì˜ˆì‹œ ì½”ë“œ â‡’ ì‚¬ì¥ > ë¶€ì¥ > ëŒ€ë¦¬ > ì‚¬ì› ë‹¨ê³„ë¡œ ì¼ì„ ì‹œì¼°ì„ ë•Œ

```javascript
function func1 (e) { // ì‚¬ì›
  try {
    if (e) { throw e }
    console.log('ì € ê°€ ë´ë„ ë˜ì£ ?');
    console.log('- - - - - - - - - -');

  } catch (e) {
    if (e instanceof SyntaxError) {
      console.error('ì € ì´ê±´ ì•Œì•„ìš”!', e);
      console.log('- - - - - - - - - -');
      return;
    }
    console.log('ëŒ€ë¦¬ë‹˜, ì´ê±° ë­ì—ìš”?');
    throw e; // ğŸ’¡ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ëŠ” ì—ëŸ¬ëŠ” ìœ—ì„ ìœ¼ë¡œ ë˜ì§
  }
}
```

```javascript
function func2 (e) { // ëŒ€ë¦¬
  try {
    func1(e);
  } catch (e) {
    if (e instanceof TypeError) {
      console.error('ë‚´ê°€ í•  í…Œë‹ˆ ê°€ë´ìš”.', e);
      console.log('- - - - - - - - - -');
      return;
    }
    console.log('ë¶€ì¥ë‹˜, ì´ê±´ ì œ ì„ ì—ì„œ ì•ˆ ë˜ê² ìŠµë‹ˆë‹¤.');
    throw e;
  }
}
```

```javascript
function func3 (e) { // ë¶€ì¥
  try {
    func2(e);
  } catch (e) {
    if (e instanceof ReferenceError) {
      console.error('ì˜ í•˜ì, ì‘?', e);
      console.log('- - - - - - - - - -');
      return;
    }
    console.log('ì‚¬ì¥ë‹˜, ì´ê²ƒ ì¢€ ë³´ì…”ì•¼ê² ìŠµë‹ˆë‹¤.');
    throw e;
  }
}
```

```javascript
function func4 (e) { // ì‚¬ì¥
  try {
    func3(e);

  } catch (e) {
    console.error('ì „ì› ì§‘í•©.', e);
  }
}
```

```javascript
func4();
```

```javascript
func4(new SyntaxError());
```

```javascript
func4(new TypeError());
```

```javascript
func4(new ReferenceError);
```

```javascript
func4(new RangeError);
```

### Var ì§€ì–‘í•˜ê¸°

**`var`Â :Â `let`ê³¼Â `const`ê°€ ìƒê¸°ê¸° ì „ ë³€ìˆ˜ ì„ ì–¸ì— ì‚¬ìš©ë˜ë˜ ë¬¸**

â‡’ ê°ì¢… ë¬¸ì œì ë“¤ì„ ê°–ê³  ìˆìœ¼ë¯€ë¡œ ì˜¤ëŠ˜ë‚ ì—ëŠ” ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²ƒì„ ê¶Œì¥

- **ì„ ì–¸ ì—†ì´ë„ ì‚¬ìš© ê°€ëŠ¥**

```javascript
notDeclared = 1; // ë¯¸ë¦¬ ì„ ì–¸í•œ ë¶€ë¶„ì´ ì—†ì„ ì‹œ varë¡œ ë§Œë“¤ì–´ì§
console.log(notDeclared);
```

```javascript
// numì´ varë¡œ ì„ ì–¸ëœ ê²ƒ
for (num of [1, 2, 3]) {
  console.log(num);
}
```

- **ì¬ì„ ì–¸ ê°€ëŠ¥ â‡’** ì½”ë”© ì¤‘ ì‹¤ìˆ˜ì˜ ì—¬ì§€ê°€ ë¨

```javascript
let a = 1;
let a = 2; // âš ï¸ ì˜¤ë¥˜
```

```javascript
const b = 1;
const b = 2; // âš ï¸ ì˜¤ë¥˜
```

```javascript
var c = 1;
var c = 2;
```

- **ë¸”ë¡ ë ˆë²¨ ìŠ¤ì½”í”„ ë¬´ì‹œ**

```javascript
let num1 = 1;
{
  let num1 = 2;
  {
    let num1 = 3;
  }
}

console.log(num1);
```

```javascript
var num2 = 1;
{
  var num2 = 2;
  {
    var num2 = 3;
  }
}

console.log(num2);
```

```javascript
// forë¬¸ì˜ ìŠ¤ì½”í”„ë„ ë¬´ì‹œ
for (var i = 0; i < 5; i++) {
  var pow2 = i ** 2;
  console.log(pow2);
}

console.log(i, pow2);
```

- **í•¨ìˆ˜ì˜ ìŠ¤ì½”í”„ëŠ” ìœ íš¨í•¨ â‡’** â€¢ [ğŸ”— IIFE](https://www.yalco.kr/@javascript/4-4)ê°€ ì‚¬ìš©ë˜ì—ˆë˜ ì´ìœ 

```javascript
var num3 = 1;

function func1 () {
  var num3 = 2;
  return num3;
}

console.log(num3);
console.log(func1());
```

- í˜¸ì´ìŠ¤íŒ…
    - ì—„ì—°íˆëŠ”Â `let`ë„ í˜¸ì´ìŠ¤íŒ… ë˜ì§€ë§ŒÂ `undefined`ë¡œ ì´ˆê¸°í™”ë˜ì§€ ì•ŠëŠ” ê²ƒ
    - ì´ˆê¸°í™”ë˜ê¸° ì´ì „ì˜ ì˜ì—­:Â [ğŸ”— TDZì— ì†í•¨](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/let#%EC%8B%9C%EA%B0%84%EC%83%81_%EC%82%AC%EA%B0%81%EC%A7%80%EB%8C%80)

```javascript
console.log(hoisted1); // âš ï¸ ì˜¤ë¥˜
```

```javascript
console.log(hoisted1); // ğŸ’¡ ì˜¤ë¥˜ë°œìƒ X, ëŒ€ì‹  undefined ë°˜í™˜

var hoisted1 = 'Hello';

console.log(hoisted1)
```

```javascript
console.log(hoisted2); // âš ï¸ ì˜¤ë¥˜

let hoisted2 = 'Hello';

console.log(hoisted2)
```

### ì—„ê²©ëª¨ë“œ strict mode

[ğŸ‘‰ MDN ë¬¸ì„œ ë³´ê¸°](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Strict_mode)

ê¸°ì¡´ì˜Â **ëŠìŠ¨í•œ**Â ëª¨ë“œì—ì„œ í—ˆìš©ë˜ë˜, ë¬¸ì œë¥¼ ìœ ë°œí•  ìˆ˜ ìˆëŠ” ì½”ë“œë“¤ì— ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚´

**ì—„ê²© ëª¨ë“œì˜ ì ìš©ë°©ë²•ê³¼ ê·¸ íš¨ê³¼ë“¤ ì˜ˆì‹œ**

**â“› ì„ ì–¸ë˜ì§€ ì•Šì€ ë³€ìˆ˜ ì‚¬ìš©ì‹œ ì˜¤ë¥˜ ë°œìƒÂ *+ ë²”ìœ„ë³„ ì ìš© ë°©ë²•***

```javascript
notDeclared = 1; // ğŸ’¡ ì•”ë¬µì ìœ¼ë¡œ ì „ì—­ var ë³€ìˆ˜ë¡œ ì„ ì–¸
```

```javascript
// âš ï¸ ìƒˆë¡œê³ ì¹¨ í›„ ì‹¤í–‰í•´ë³¼ ê²ƒ
// ì„ ì–¸ë˜ì§€ ì•Šì€ ë³€ìˆ˜ ì‚¬ìš© ê¸ˆì§€
'use strict'; // ìŒë”°ì˜´í‘œë„ ê°€ëŠ¥

notDeclared = 1; // ì˜¤ë¥˜ ë°œìƒ!
```

- ìœ„ì™€ ê°™ì´ ìë°”ìŠ¤í¬ë¦½íŠ¸Â **ë¬¸ì„œ ìµœìƒë‹¨**ì— ì‘ì„± -Â *ë¬¸ì„œ ì „ì²´ì— ì ìš©*
- **ë¬¸ì„œ, script íƒœê·¸ë³„ë¡œë§Œ**Â ì ìš© - ì—¬ëŸ¬Â `.js`íŒŒì¼ì´ í˜ì´ì§€ì— ì‚¬ìš©ë  ì‹œ ê°ê° ì‘ì„±í•´ì•¼ í•¨

```javascript
<!DOCTYPE html>
<html lang="ko">
<head>
<script src="./1.js"></script>
<script src="./2.js"></script>
</head>
</html>
```

```javascript
// 1.js
'use strict';
x = 1;
console.log(x); // ì˜¤ë¥˜ ë°œìƒ
```

```javascript
// 2.js
y = 2;
console.log(y); // ì˜¤ë¥˜ ë°œìƒí•˜ì§€ ì•ŠìŒ
```

- íŠ¹ì •Â **í•¨ìˆ˜ì˜ ìµœìƒë‹¨**ì— ì‘ì„± - í•´ë‹¹ í•¨ìˆ˜ì—ë§Œ ì ìš©

```javascript
notDec1 = 1;

function strictFunc () {
'use strict';

 notDec2 = 2;
 console.log(notDec2);
}

console.log(notDec1);
strictFunc();
```

**â‘¡ ë³€ìˆ˜, í•¨ìˆ˜, ì¸ì ë“± ì‚­ì œë¶ˆê°€í•œ ê²ƒì„ ì‚­ì œì‹œ ì˜¤ë¥˜ ë°œìƒ**

```javascript
// ì‹¤ì œë¡œ ì§€ì›Œì§€ì§€ë„ ì•Šì§€ë§Œ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ì§€ë„ ì•ŠìŒ

let toDelete1 = 1;
delete toDelete1;

console.log('1.', toDelete1);
```

```javascript
function funcToDel1 () { console.log(true); }
delete funcToDel1;

console.log('2.', funcToDel1);
```

```javascript
'use strict';

let toDelete2 = 1;
delete toDelete2;
```

```javascript
'use strict';

function funcToDel2 () { console.log(true); }
delete funcToDel2;
```

**â‘¢ ì¸ìëª… ì¤‘ë³µì‹œ ì˜¤ë¥˜ ë°œìƒ**

```javascript
// 'use strict';

function add(x, x) {
  return x + x;
}

console.log(add(1, 2));
```

**ê¸°íƒ€ ê¸°ëŠ¥ë“¤ì€ ì•„ë˜ì˜ ë§í¬ì—ì„œ í™•ì¸**

[ğŸ‘‰ MDN ë¬¸ì„œ ë³´ê¸°](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Strict_mode)

### **ì‹¤ë¬´ì—ì„œì˜ ì—„ê²© ëª¨ë“œ**

- í´ë˜ìŠ¤ë‚˜ ëª¨ë“ˆ*(ë“± ES6ì™€ ê·¸ ì´í›„ì˜ ê¸°ëŠ¥ë“¤)*Â ì‚¬ìš©ì‹œ ì—„ê²© ëª¨ë“œê°€ ê¸°ë³¸ìœ¼ë¡œ ì ìš©ë¨
- ğŸª„ ëª¨ë“  ë¬¸ì œë¥¼ ë°©ì§€í•˜ëŠ” ìˆ˜ë‹¨ì´ ë˜ì§€ ì•ŠìŒ ê¸°ì–µ
- âš ï¸ ê¸°ì¡´ ì½”ë“œì— ì—„ê²©ëª¨ë“œ ì ìš©ì‹œ ì£¼ì˜ -Â *ì˜ˆê¸°ì¹˜ ëª»í•œ ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥*

### **`?.`Â -Â ì˜µì…”ë„ ì²´ì´ë‹Â *optional chaining*Â ì—°ì‚°ì**

- í˜¸ì¶œ ëŒ€ìƒì´Â `undefined`ë‚˜Â `null`ì´ì–´ë„Â **ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠìŒ**Â -Â *ëŒ€ì‹  undefined ë°˜í™˜*
- **ìˆì„ì§€ ì—†ì„ì§€ ëª¨ë¥´ëŠ” ê²ƒ**ìœ¼ë¡œë¶€í„° ê°’ì„ ì½ê±°ë‚˜ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©
- [ğŸ‘‰ MDN ë¬¸ì„œ ë³´ê¸°](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Optional_chaining)
- ê²°ê³¼ì—Â `prop3`ì´ ìˆë‹¤ë©´ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ìƒí™©

```javascript
// ìµœì†Œ undefined
// ìµœëŒ€ {prop1:{prop2:{prop3:'ì„±ê³µ!'}}}
// ê¹Œì§€ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
const rand = () => Math.random() < 0.75;

const notSure = () => rand() ? {
  prop1: rand() ? {
    prop2: rand() ? {
      prop3: rand() ? 'ì„±ê³µ!' : undefined
    } : undefined
  } : undefined
} : undefined;

console.log(JSON.stringify(notSure()));
```

```javascript
const result = notSure();
console.log(JSON.stringify(result));

// âš ï¸ ë°”ë¡œ ì ‘ê·¼í•˜ë ¤ í•  ì‹œì—ëŠ” ì‹¤íŒ¨ì‹œ ì—ëŸ¬
console.log(result.prop1.prop2.prop3);
```

- **í•´ê²°ë°©ë²• â‡’ optional chaining ì‚¬ìš©ì‹œ ê°„ë‹¨í•˜ê²Œ í•´ê²° ê°€ëŠ¥**

```javascript
// ë°©ë²• 1
const result = notSure();

if (result) {
  if (result.prop1) {
    if (result.prop1.prop2) {
      console.log(result.prop1.prop2.prop3);
    }
  }
}
```

```javascript
// ë°©ë²• 2
const result = notSure();

console.log(
  result
  && result.prop1
  && result.prop1.prop2
  && result.prop1.prop2.prop3
);
```

```javascript
// ë°©ë²• 3
const result = notSure();

try {
  console.log(result.prop1.prop2.prop3);
} catch {
  console.log(undefined);
}
```

```javascript
// ë°©ë²•4 optional chaining
const result = notSure();

console.log(
  result?.prop1?.prop2?.prop3
);
```

- **ìœ ë¬´ê°€ ë¶ˆí™•ì‹¤í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œë„ ìœ ìš©**

```javascript
const objs = [
  { func () { console.log(1) } },
  {},
  { func () { console.log(2) } },
  {},
  { func () { console.log(3) } },
]

objs.forEach(o => o.func?.());
```